<div class="container my-5">
  <div class="jumbotron text-center bg-light p-5 rounded">
    <h1 class="display-4 mb-3">寄り道ログ</h1>
    <p class="lead mb-4">地域のお店や隠れスポットを、みんなで見つけて共有しよう！</p>
    <%= image_tag 'sunset-569093_640.jpg', alt: '風景', class: 'img-fluid rounded mb-4' %>
    
    <div>
      <% unless user_signed_in? %>
        <%= link_to "今すぐ登録", new_user_registration_path, class: "btn btn-primary btn-lg mr-2 mb-2" %>
        <%= link_to "ログイン", new_user_session_path, class: "btn btn-outline-primary btn-lg mb-2" %>
      <% else %>
        <%= link_to "新規投稿", new_public_post_path, class: "btn btn-primary btn-lg mb-2" %>
      <% end %>
    </div>
  </div>

  <div class="row my-5 align-items-center">
    <div class="col-md-6 mb-4 mb-md-0">
      <%= image_tag 'dog-1850465_640.jpg', alt: 'ドライブ', class: 'img-fluid rounded' %>
    </div>
    <div class="col-md-6">
      <h3>寄り道ログの特徴</h3>
      <ul class="list-unstyled mt-3">
        <li class="mb-2"><i class="fas fa-camera mr-2"></i>画像投稿で直感的にスポットを共有</li>
        <li class="mb-2"><i class="fas fa-users mr-2"></i>フォロー・いいねでおすすめを簡単共有</li>
        <li class="mb-2"><i class="fas fa-map-marker-alt mr-2"></i>地域ごとに新しい発見を楽しめる</li>
      </ul>
    </div>
  </div>

  <h3 class="text-center my-4">最新の寄り道投稿</h3>
  <div class="row">
    <% if @posts.present? %>
      <% @posts.each do |post| %>
        <div class="col-md-4 mb-4">
          <div class="card h-100 shadow-sm">
            <% if post.images.attached? %>
              <%= image_tag post.images.first, class: "card-img-top", alt: post.title %>
            <% else %>
              <%= image_tag 'no_image_logo.png', class: "card-img-top", alt: "No Image" %>
            <% end %>
            <div class="card-body">
              <h5 class="card-title"><%= link_to post.title, public_post_path(post) %></h5>
              <p class="card-text"><%= truncate(post.body, length: 50) %></p>
            </div>
          </div>
        </div>
      <% end %>
    <% else %>
      <p class="text-center w-100">まだ投稿はありません</p>
    <% end %>
  </div>
    
  <% if @posts.present? %>
    <div class="d-flex justify-content-center">
      <%= paginate @posts %>
    </div>
  <% end %>
    
</div>
